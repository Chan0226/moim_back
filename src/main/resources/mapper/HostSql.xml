<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="data.mapper.HostMapper">
    <select id="getHostList">
        select *
        from room
    </select>

    <!--방 전체 리스트-->
    <select id="getRoomList" resultType="RoomDto">
        select *
        from room
        order by num desc
    </select>

    <!--메인카테고리 리스트-->
    <select id="getMainCategoryList" resultType="MainCategoryDto">
        select *
        from mainCategory
        order by num desc
    </select>

    <!--카테고리 리스트-->
    <select id="getCategoryList" resultType="CategoryDto">
        select *
        from category
        order by num desc
    </select>

    <!--인서트 기본-->
    <insert id="insertRoom" parameterType="RoomDto">
        insert into room (name, oneIntroduction, fullIntroduction, thumbnailImage, address, address2, writeday,hostNum)
        values (#{name}, #{oneIntroduction}, #{fullIntroduction}, #{thumbnailImage}, #{address}, #{address2},now(),1)
        <selectKey keyProperty="num" resultType="int" order="AFTER">
            SELECT LAST_INSERT_ID()
        </selectKey>
    </insert>
</mapper>