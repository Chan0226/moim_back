<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="data.mapper.RoomMapper">
    <select id="getRoomData" resultType="RoomDto" parameterType="int">
        select * from room where num=#{num}
    </select>

    <!-- booking page category -->
    <select id="getCategoryData" resultType="RoomDto" parameterType="int">
        select cname from room r
            inner join roomCategory rc on r.num = rc.roomNum
            inner join category c on rc.categoryNum = c.num
                     where r.num = #{num}
    </select>

    <select id="getFacilityList" resultType="RoomDto" parameterType="int">
        select fname, imageUrl from room r
            inner join roomFacility rf on r.num = rf.roomNum
            inner join facility f on rf.facilityNum = f.num
                               where r.num = #{num}
    </select>

    <!-- booking detail option  -->
    <select id="getOptionList" resultType="RoomDto" parameterType="int">
        select  ro.num as ronum, oname, price, oimageUrl from moim.room r
            inner join roption ro 
            on r.num = ro.roomNum where r.num = #{num};
    </select>

    <select id="selectRoomImageList" parameterType="int" resultType="RoomImageDto">
        select * from roomImage where roomNum=#{num}
    </select>

    <!--  main > suggestRoom List  -->
    <!--  admin > space List  -->
    <select id="getRoomList" resultType="RoomDto">
        select * from room

    </select>
</mapper>

